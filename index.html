<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>revengeinseptember</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

html, body {
  width: 100%;
  height: 100%;
  font-family: sans-serif;
  background: #f6f4ef;
}

/* ---------- FADE SYSTEM ---------- */

.fade {
  opacity: 0;
  pointer-events: none;
  transition: opacity 0.4s ease;
}

.fade.show {
  opacity: 1;
  pointer-events: auto;
}

/* ---------- FRONT PAGE ---------- */

#front {
  position: fixed;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
  gap: 80px;
}

.icon {
  width: 200px;
  cursor: pointer;
  transition: transform 0.25s ease, box-shadow 0.25s ease;
}

.icon:hover {
  transform: scale(1.05);
  box-shadow: 0 12px 30px rgba(0,0,0,0.12);
}

/* ---------- ZINE ---------- */

#zine {
  position: fixed;
  inset: 0;
  background: #111;
}

#back {
  position: absolute;
  top: 20px;
  left: 20px;
  color: white;
  opacity: 0.5;
  cursor: pointer;
  z-index: 20;
  transition: opacity 0.2s ease;
}

#back:hover {
  opacity: 1;
}

#page-container {
  position: absolute;
  inset: 0;
  display: flex;
  justify-content: center;
  align-items: center;
}

/* pages */
.page {
  position: absolute;
  max-width: 90vw;
  max-height: 90vh;
  opacity: 0;
  transition: opacity 0.4s ease;
}

.page.active {
  opacity: 1;
}

/* video page */
.video-page iframe {
  width: 80vw;
  height: 45vw;
  max-width: 960px;
  max-height: 540px;
  border: none;
}

/* arrows */
.arrow {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  font-size: 48px;
  color: white;
  cursor: pointer;
  opacity: 0.6;
  user-select: none;
  z-index: 20;
}

.arrow:hover {
  opacity: 1;
}

#prev { left: 20px; }
#next { right: 20px; }

/* dots */
#dots {
  position: absolute;
  bottom: 30px;
  width: 100%;
  display: flex;
  justify-content: center;
  gap: 10px;
}

.dot {
  width: 8px;
  height: 8px;
  border-radius: 50%;
  background: #555;
}

.dot.active {
  background: white;
}

/* mobile */
@media (max-width: 768px) {
  #front {
    flex-direction: column;
    gap: 40px;
  }

  .video-page iframe {
    width: 90vw;
    height: 50vw;
  }
}
</style>
</head>

<body>

<!-- hidden iframe for download -->
<iframe id="downloadFrame" style="display:none;"></iframe>

<!-- FRONT -->
<div id="front" class="fade show">
  <img src="zine-icon.png" class="icon" id="openZine" alt="zine">
  <img src="download-icon.png" class="icon" id="downloadBtn" alt="download">
</div>

<!-- ZINE -->
<div id="zine" class="fade">
  <div id="back">← back</div>

  <div id="page-container"></div>

  <div id="prev" class="arrow">‹</div>
  <div id="next" class="arrow">›</div>

  <div id="dots"></div>
</div>

<script>
const front = document.getElementById("front");
const zine = document.getElementById("zine");
const container = document.getElementById("page-container");
const dots = document.getElementById("dots");

const totalPages = 9;
let current = 0;
const pages = [];

/* IMAGE PAGES 1–8 */
for (let i = 1; i <= 8; i++) {
  const img = document.createElement("img");
  img.src = `page${String(i).padStart(2, "0")}.png`;
  img.className = "page";
  if (i === 1) img.classList.add("active");
  container.appendChild(img);
  pages.push(img);

  const dot = document.createElement("div");
  dot.className = "dot" + (i === 1 ? " active" : "");
  dots.appendChild(dot);
}

/* VIDEO PAGE 9 */
const videoPage = document.createElement("div");
videoPage.className = "page video-page";
videoPage.innerHTML = `
  <iframe
    src="https://www.youtube-nocookie.com/embed/PzruFL1rGsU"
    title="video"
    allow="accelerometer; autoplay; encrypted-media; picture-in-picture"
    referrerpolicy="strict-origin-when-cross-origin"
    allowfullscreen>
  </iframe>
`;
container.appendChild(videoPage);
pages.push(videoPage);

const videoDot = document.createElement("div");
videoDot.className = "dot";
dots.appendChild(videoDot);

/* page switching */
function showPage(i) {
  pages[current].classList.remove("active");
  dots.children[current].classList.remove("active");
  current = i;
  pages[current].classList.add("active");
  dots.children[current].classList.add("active");
}

/* open zine */
document.getElementById("openZine").onclick = () => {
  front.classList.remove("show");
  setTimeout(() => {
    front.style.display = "none";
    zine.style.display = "block";
    zine.classList.add("show");
    current = 0;
    showPage(0);
  }, 400);
};

/* back */
document.getElementById("back").onclick = () => {
  zine.classList.remove("show");
  setTimeout(() => {
    zine.style.display = "none";
    front.style.display = "flex";
    front.classList.add("show");
  }, 400);
};

/* arrows */
document.getElementById("next").onclick = () => {
  if (current < totalPages - 1) showPage(current + 1);
};

document.getElementById("prev").onclick = () => {
  if (current > 0) showPage(current - 1);
};

/* swipe */
let startX = 0;
container.addEventListener("touchstart", e => startX = e.touches[0].clientX);
container.addEventListener("touchend", e => {
  const dx = e.changedTouches[0].clientX - startX;
  if (dx > 50 && current > 0) showPage(current - 1);
  if (dx < -50 && current < totalPages - 1) showPage(current + 1);
});

/* download (no navigation) */
document.getElementById("downloadBtn").onclick = () => {
  document.getElementById("downloadFrame").src =
    "https://www.dropbox.com/scl/fi/s21r42c7zwk4q68bsyip8/DREAMCRUSHER-DRAFTS.zip?rlkey=8txvv6q6zrvv8ifzwgwap4wjd&st=y2j6nzp1&dl=0";
};
</script>

</body>
</html>
